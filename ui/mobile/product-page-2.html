<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8">

  <title>Product page example</title>
  <meta name="description" content="The HTML5 Herald">
  <meta name="author" content="SitePoint">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
  <link rel="stylesheet" href="css/animate.css" >
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.6.0/slick.min.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.6.0/slick-theme.min.css" />

  <style>

  * {
      box-sizing: border-box;
  }

  body,html {
      margin: 0;
      padding: 0;
  }

      .navigation {
          position: fixed;
          width: 100%;
          z-index: 2;
      }

      .bottom-bar {
          position: fixed;
          bottom: -51px;
          width: 100%;
          height: 51px;
          background: #EFEFEF;
          z-index: 2;
          box-shadow: 0 -6px 30px rgba(0,0,0,0.2), 0 -2px 4px rgba(0,0,0,0.1);
      }

      .bottom-bar.down {
          bottom: -51px;
      }

      .bottom-bar.up {
          bottom: 0px;
      }

      .header-image {
          display: block;
          position: relative;
          max-height: 305px;
          overflow: hidden;
          webkit-transition: all 0.2s linear;
          -moz-transition: all 0.2s linear;
          -o-transition: all 0.2s linear;
          transition: all 0.2s linear;
          outline-color: transparent;
          outline: 0px solid transparent;
      }

      .header-image:focus {
          outline: 0px solid transparent;
      }

      .header-image.full-screen {
          max-height: 375px;
      }

      .header-image.full-screen .header-image__image {
          top: 0;
          outline-color: transparent;
      }

      .header-image__image {
          display: block;
          border: 0;
          width: 100%;
          position: absolute;
          top: -15%;
          webkit-transition: all 0.2s linear;
          -moz-transition: all 0.2s linear;
          -o-transition: all 0.2s linear;
          transition: all 0.2s linear;
          outline-color: white; border: none;
      }

      .slick-dots {
          bottom: 20px;
          webkit-transition: all 0.2s linear;
          -moz-transition: all 0.2s linear;
          -o-transition: all 0.2s linear;
          transition: all 0.2s linear;
      }

      .slick-dots.full-screen {
          bottom: -20px;
      }

      .badge {
          position: absolute;
          left: 0px;
      }

      .header-container {
          position: relative;
          overflow: hidden;
      }

      .slick-dots li.slick-active button:before {
          color: white;
      }

      .slick-dots li {
          margin: 0 10px;
      }

      .slick-dots li button:before {
          color: white;
          font-size: 12px;
      }
      .slick-dotted.slick-slider {
          margin: 0;
          outline: 0px solid transparent;
          border: none;
      }

      .slick-slide {
          min-height: 375px;
         outline: 0px solid transparent;
          border: none;
      }

      .slick-slide:focus {
           outline: 0px solid transparent;
      }

      .sub-section {
          position: relative;
          background: #EFEFEF;
          padding: 20px;
      }

      .product-flow {
          padding: 20px;
          background: white;
          overflow-x: scroll;
          -webkit-overflow-scrolling: touch;
          width:100%;
          overflow-y: hidden;
          white-space: nowrap;
          position: relative;
          display: block;
          margin: 0;
      }

      .header-badge {
          top: 10px;
      }

      .header-badge.full-screen {
          top: -20px;
      }

       .product-flow  ul {
           margin: 0;
           padding: 0;
       }

      .product-flow li{
          display: inline-block;
          list-style: none;
          margin-left: 10px;
      }

      .product-flow li:first-child {
          margin-left: 0px;
      }

      .product-flow li:last-child {
          margin-right: 20px;
      }

      .double-tap {
          position: absolute;
          bottom: 20px;
          z-index: 1;
          margin-left: -101px;
          left: 50%;
      }

  </style>


</head>

<body>

    <div class="bottom-bar animated">
        <div style="position: relative; width: 50%; background: #FFFFFF; float: left; display: inline-block; border-right: 1px solid #E2E2E2; padding: 14px 10px; text-align: center;">
            <a href="#more-info">
                <img src="img/more-info-btn-2.png" width="113">
            </a>
        </div>
        <div style="position: relative; background: #FFFFFF; width: 50%; float: left; display: inline-block; padding: 14px 10px; text-align: center;">
            <a href="#reviews">
                <img src="img/reviews-btn-2.png" width="117">
            </a>
        </div>

    </div>


    <img src="img/navigation.png" class="navigation">

    <img src="img/text-top-1.png" style="width: 337px; padding: 69px 20px 20px 20px;">

    <div class="header-container">

        <img src="img/double-tap.png" class="double-tap">

        <img src="img/badges-2.png" style="position: absolute; z-index: 1; left: 20px;" class="header-badge">

        <div class="header-image" id="top">
            <div><img src="https://media.firebox.com/product/7285/column_grid_8/hatching-dinosaur-candle_18984.jpg" class="header-image__image"></div>
            <div><img src="https://media.firebox.com/product/7285/extra1_column_grid_8/hatching-dinosaur-candle_18985.jpg" class="header-image__image"></div>
            <div><img src="https://media.firebox.com/product/7285/extra2_column_grid_8/hatching-dinosaur-candle_18986.jpg" class="header-image__image"></div>
        </div>
    </div>

    <img src="img/buy-section.png" style="width: 100%; padding: 20px 20px 20px 20px; display: block; margin: 0 auto;">

    <div class="sub-section">
        <a href="#top"><img src="img/more-info-section.png" style="width: 100%; margin: 0 0 20px 0;" id="more-info"></a>
        <img src="img/next-day.png" style="display: block; width: 296px; margin: 0 auto 20px auto;">
        <a href="#top"><img src="img/reviews-section.png" style="width: 100%; margin: 0 0 20px 0;" id="reviews"></a>
        <img src="img/free-delivery.png" style="display: block; width: 173px; margin: 0 auto 20px auto;">
        <a href="#top"><img src="img/shares-section.png" style="width: 100%; margin: 0 0 20px 0;" id="shares"></a>
        <img src="img/free-returns.png" style="display: block; width: 93px; margin: 0 auto 20px auto;">
        <a href="#top"><img src="img/related-top.png" style="width: 100%; margin: 0;" id="related"></a>

        <div class="product-flow">
            <ul>
                <li><img src="https://media.firebox.com/product/7358/column_grid_3/bike-balls_17314.gif" width="200"></li>
                <li><img src="https://media.firebox.com/product/7243/column_grid_3/star-trek-original-series-bluetooth-communicator_21091.jpg" width="200"></li>
                <li><img src="https://media.firebox.com/product/7285/column_grid_3/hatching-dinosaur-candle_18984.jpg" width="200"></li>
                <li><img src="https://media.firebox.com/product/7491/column_grid_3/hatching-dragon-candle_25847.jpg" width="200"></li>
                <li><img src="https://media.firebox.com/product/7573/column_grid_3/the-beard-bib_25566.jpg" width="200"></li>
                <li><img src="https://media.firebox.com/product/7529/column_grid_3/dino-lamps_25733.jpg" width="200"></li>
                <li><img src="img/category.png" width="200"></li>
            </ul>
        </div>

    </div>


    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.6.0/slick.min.js"></script>
    <script src="js/jquery.panzoom.min.js"></script>
    <script src="js/doubletap.js"></script>

    <script>

    $( document ).ready(function() {

        $('.header-image').slick({
            dots: true,
            arrows: false
        });

        var st = $(this).scrollTop();

        if(st === 0) {
            setTimeout(startScroll,1500);
        }

        setTimeout(hideDouble,3000);

        $(".bottom-bar").addClass("up");

        $(".header-image__image").panzoom(function(e,panzoomstart){
            console.log(panzoomstart)
        });

        $(".header-image__image").panzoom("option", {
          disablePan: true,
          minScale: 1,
          maxScale: 5,
          panOnlyWhenZoomed: true
        });

        $(".double-tap").click(function() {
            $('.double-tap').fadeOut("slow");
        });

        var doubleTapBefore = false;

        $('a[href*="#"]:not([href="#"])').click(function() {
            if (location.pathname.replace(/^\//,'') == this.pathname.replace(/^\//,'') && location.hostname == this.hostname) {
              var target = $(this.hash);
              target = target.length ? target : $('[name=' + this.hash.slice(1) +']');
              if (target.length) {
                $('html, body').animate({
                  scrollTop: target.offset().top - 70
                }, 1000);
                return false;
              }
            }
          });

        $(".header-image__image").on('doubletap',function(event){
            $(".header-image").toggleClass("full-screen");
            $(".slick-dots").toggleClass("full-screen");
            $(".header-badge").toggleClass("full-screen");

            if(doubleTapBefore) {
                doubleTapBefore = !doubleTapBefore;
                $('.header-image').slick("slickSetOption", "touchMove", true, true);
                $('.header-image').slick("slickSetOption", "swipe", true, true);

                $(".header-image__image").panzoom("option", {
                  disablePan: true
                });
                $(".header-image__image").panzoom("resetDimensions");

            } else {
                doubleTapBefore = !doubleTapBefore;
                startScroll();
                $('.header-image').slick("slickSetOption", "touchMove", false, false);
                $('.header-image').slick("slickSetOption", "swipe", false, false);

                $(".header-image__image").panzoom("option", {
                  disablePan: false
                });
            }

        });


    });


    function startScroll() {
        $('html, body').animate({
            scrollTop: 79
        }, 300);
    }

    function hideDouble() {
        $('.double-tap').fadeOut("slow");
    }

    // Hide the menu bar on scroll
    var lastScrollTop = 0;
        $(window).scroll(function(event){
           var st = $(this).scrollTop();

           if(st > 100){
               if (st > lastScrollTop){
                   // downscroll code
                   $(".bottom-bar").removeClass("fadeInUp").addClass("fadeOutDown");
               } else {
                  // upscroll code
                  $(".bottom-bar").removeClass("fadeOutDown").addClass("fadeInUp");
               }
           }

           lastScrollTop = st;
        });

    </script>



</body>

</html>
